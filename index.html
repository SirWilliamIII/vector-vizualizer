<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-THHLV3R3');</script>
<!-- End Google Tag Manager -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vector Similarity Explorer</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-THHLV3R3"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
    <div id="container">
        <div id="canvas-container"></div>
        
        <div class="left-column">
            <div class="legend">
                <h2>Similarity Colors</h2>
                <div class="legend-item">
                    <div class="legend-color" style="background: #4ade80;"></div>
                    <div class="legend-text">High (>0.7) - Very Similar</div>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #fbbf24;"></div>
                    <div class="legend-text">Medium (0.3-0.7) - Somewhat Similar</div>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #f87171;"></div>
                    <div class="legend-text">Low (<0.3) - Different</div>
                </div>
            </div>
            
            <div class="instructions">
                <strong>Hover</strong> over vectors to see relationships<br>
                <strong>Click</strong> two vectors to compare them<br>
                <strong>Drag</strong> to rotate the view<br>
                <strong>ESC</strong> to clear selection
                <div class="instruction-hint">**Try adding phrases to see how they cluster</div>
            </div>
            
            <div class="add-vector-panel">
                <h3>
                    Add Your Own Vector
                    <span class="help-icon">
                        <span class="help-icon-text">?</span>
                        <span class="help-tooltip">
                            <strong>Need inspiration?</strong> Try these in different orders:<br><br>
                            spark • signal • pattern recognition<br>
                            neural memory • human error<br>
                            artificial empathy • ghost<br>
                            memory leak • machine<br>
                            lost moment • future nostalgia
                        </span>
                    </span>
                </h3>
                <input 
                    type="text" 
                    id="word-input" 
                    placeholder="Type any word or phrase"
                    class="word-input"
                />
                <button class="add-btn" onclick="addCustomVector()">Add Vector</button>
                <div id="status-message" class="status-message"></div>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="resetView()">Reset View</button>
                <button class="control-btn" onclick="startFresh()">Start Fresh</button>
                <button class="control-btn" onclick="exportVisual()">Export Image</button>
            </div>
        </div>
        
        <div class="right-column">
            <div class="info-panel" id="info-panel">
                <h3>Select Vectors to Compare</h3>
                <p style="color: rgba(255, 255, 255, 0.6); font-size: 0.85rem; line-height: 1.5;">
                    Click on any vector to select it. Click a second vector to see detailed similarity metrics and understand what each metric captures.
                </p>
            </div>
        </div>
    </div>

    <script type="importmap">
    {
        "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/",
            "@xenova/transformers": "https://cdn.jsdelivr.net/npm/@xenova/transformers@2.17.2"
        }
    }
    </script>

    <script type="module" src="js/main.js"></script>
</body>
</html>
